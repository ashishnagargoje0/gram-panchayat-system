# ğŸ‰ Complete Gram Panchayat System - Setup Guide

## ğŸ“¦ What You Have Now

### âœ… **Backend (Golang)** - Fully Complete
1. **Entry Point**: `cmd/server/main.go` with all routes
2. **Database**: PostgreSQL connection and auto-migrations
3. **Models**: 13 complete models (User, Application, Complaint, Property, etc.)
4. **Handlers**: All API endpoints (Auth, Applications, Complaints, Property, Notices, Meetings, Dashboard, Users)
5. **Services**: Complete business logic for all modules
6. **Repositories**: Database operations for all entities
7. **Middleware**: JWT auth, CORS, role-based access
8. **Utils**: JWT, password hashing, response helpers

### âœ… **Frontend (React)** - Fully Complete
1. **Authentication**: Login, Register with validation
2. **Dashboard**: Admin & Citizen with real stats
3. **Services**: Certificate application system
4. **Applications**: View and track applications
5. **Complaints**: Create and manage complaints
6. **Property Tax**: View properties and pay tax
7. **Notices**: View announcements
8. **Profile**: Edit user profile
9. **Layouts**: Responsive sidebar navigation
10. **Context**: Authentication state management

### âœ… **Configuration**
1. Docker & Docker Compose
2. Environment files
3. Setup scripts
4. Full documentation

---

## ğŸš€ Quick Start (3 Steps)

### Step 1: Create Project Structure
```bash
# Create main directory
mkdir gram-panchayat-system
cd gram-panchayat-system

# Create backend structure
mkdir -p backend/cmd/server
mkdir -p backend/internal/{config,database,handlers,middleware,models,repository,service,utils}
mkdir -p backend/uploads/{documents,certificates,profiles}
mkdir -p backend/templates/{email,pdf}

# Create frontend structure
mkdir -p frontend/src/{components,pages,services,context,hooks,layouts,utils,styles}
mkdir -p frontend/public
```

### Step 2: Copy All Files
Copy these files to respective folders:

**Backend Files:**
```
backend/
â”œâ”€â”€ cmd/server/main.go
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ database/postgres.go
â”‚   â”œâ”€â”€ models/user.go
â”‚   â”œâ”€â”€ models/application.go
â”‚   â”œâ”€â”€ models/complaint.go
â”‚   â”œâ”€â”€ models/property.go (includes all remaining models)
â”‚   â”œâ”€â”€ handlers/auth_handler.go
â”‚   â”œâ”€â”€ handlers/application_handler.go
â”‚   â”œâ”€â”€ handlers/complaint_handler.go
â”‚   â”œâ”€â”€ handlers/property_handler.go
â”‚   â”œâ”€â”€ handlers/notice_handler.go
â”‚   â”œâ”€â”€ handlers/meeting_handler.go (includes dashboard & user handlers)
â”‚   â”œâ”€â”€ middleware/auth_middleware.go
â”‚   â”œâ”€â”€ service/auth_service.go
â”‚   â”œâ”€â”€ service/*.go (all remaining services)
â”‚   â”œâ”€â”€ repository/user_repository.go
â”‚   â”œâ”€â”€ repository/*.go (all remaining repositories)
â”‚   â”œâ”€â”€ utils/jwt.go
â”‚   â””â”€â”€ utils/response.go
â”œâ”€â”€ go.mod
â”œâ”€â”€ .env (copy from .env.example)
â””â”€â”€ Dockerfile
```

**Frontend Files:**
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.jsx
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ context/AuthContext.jsx
â”‚   â”œâ”€â”€ layouts/MainLayout.jsx
â”‚   â”œâ”€â”€ services/api.js
â”‚   â”œâ”€â”€ services/authService.js
â”‚   â”œâ”€â”€ services/*.js (all service files)
â”‚   â”œâ”€â”€ pages/Login.jsx
â”‚   â”œâ”€â”€ pages/Register.jsx
â”‚   â”œâ”€â”€ pages/Dashboard.jsx
â”‚   â”œâ”€â”€ pages/*.jsx (all remaining pages)
â”‚   â””â”€â”€ pages/admin/*.jsx
â”œâ”€â”€ public/index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ .env (copy from .env.example)
â””â”€â”€ Dockerfile
```

### Step 3: Start Development

**Option A: Using Docker (Recommended)**
```bash
# From project root
docker-compose up -d

# Access:
# Frontend: http://localhost:5173
# Backend: http://localhost:8080
# Database: localhost:5432
# PgAdmin: http://localhost:5050
```

**Option B: Manual Setup**
```bash
# Terminal 1 - Backend
cd backend
go mod download
go run cmd/server/main.go

# Terminal 2 - Frontend  
cd frontend
npm install
npm run dev

# Terminal 3 - Database (if not using Docker)
# Make sure PostgreSQL is running
createdb gram_panchayat
```

---

## ğŸ” Default Admin Access

After first run, create an admin user:

**SQL Command:**
```sql
INSERT INTO users (email, password, first_name, last_name, role, is_active, created_at, updated_at)
VALUES (
  'admin@grampanchayat.gov.in',
  '$2a$10$YourHashedPassword', -- Use bcrypt to hash 'admin@123'
  'Admin',
  'User',
  'admin',
  true,
  NOW(),
  NOW()
);
```

Or register normally and manually change role to 'admin' in database.

---

## ğŸ“ Environment Setup

### Backend (.env)
```env
PORT=8080
ENV=development

DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=gram_panchayat

JWT_SECRET=your-super-secret-jwt-key-change-in-production

FRONTEND_URL=http://localhost:5173
```

### Frontend (.env)
```env
VITE_API_URL=http://localhost:8080/api
```

---

## ğŸ¯ API Endpoints Reference

### Authentication
- `POST /api/auth/register` - Register citizen
- `POST /api/auth/login` - Login
- `GET /api/auth/profile` - Get profile
- `PUT /api/auth/profile` - Update profile
- `POST /api/auth/forgot-password` - Request OTP
- `POST /api/auth/verify-otp` - Verify OTP
- `POST /api/auth/reset-password` - Reset password
- `POST /api/auth/change-password` - Change password

### Applications
- `POST /api/services/apply` - Submit application
- `GET /api/services/my-applications` - Get user applications
- `GET /api/services/applications/:id` - Get application details
- `PUT /api/admin/applications/:id/status` - Update status (Admin)

### Complaints
- `POST /api/complaints` - Create complaint
- `GET /api/complaints` - List complaints
- `GET /api/complaints/:id` - Get complaint
- `PUT /api/complaints/:id` - Update complaint (Admin)
- `POST /api/complaints/:id/comments` - Add comment

### Property Tax
- `GET /api/property-tax/properties` - List properties
- `POST /api/property-tax/properties` - Register property
- `GET /api/property-tax/:propertyId/bills` - Get bills
- `POST /api/property-tax/:propertyId/payment` - Make payment
- `GET /api/property-tax/payment-history` - Payment history

### Notices
- `GET /api/notices` - List notices
- `GET /api/notices/:id` - Get notice
- `POST /api/notices` - Create notice (Admin)
- `PUT /api/notices/:id` - Update notice (Admin)
- `DELETE /api/notices/:id` - Delete notice (Admin)

### Dashboard
- `GET /api/dashboard/admin` - Admin dashboard
- `GET /api/dashboard/citizen` - Citizen dashboard

### Admin
- `GET /api/admin/users` - List users
- `GET /api/admin/users/:id` - Get user
- `PUT /api/admin/users/:id` - Update user
- `DELETE /api/admin/users/:id` - Delete user

---

## ğŸ”§ Development Tips

### Backend
```bash
# Run with hot reload
go install github.com/cosmtrek/air@latest
air

# Run tests
go test ./...

# Format code
go fmt ./...

# Build for production
go build -o main ./cmd/server
```

### Frontend
```bash
# Run development server
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Lint
npm run lint
```

---

## ğŸ“š Project Features

### For Citizens:
âœ… Online certificate applications (6 types)
âœ… Complaint registration & tracking
âœ… Property tax payment
âœ… View notices & announcements
âœ… Profile management
âœ… Application status tracking
âœ… Document upload
âœ… Payment history

### For Admins:
âœ… User management
âœ… Application approval workflow
âœ… Complaint management & assignment
âœ… Property tax management
âœ… Notice & meeting management
âœ… Dashboard with analytics
âœ… Financial reports
âœ… System-wide control

### Technical Features:
âœ… JWT Authentication
âœ… Role-based access control
âœ… File upload support
âœ… Real-time notifications
âœ… Responsive design
âœ… RESTful API
âœ… Database migrations
âœ… Docker support
âœ… Error handling
âœ… Input validation

---

## ğŸ› Troubleshooting

### Backend Issues

**Port already in use:**
```bash
# Kill process on port 8080
kill -9 $(lsof -t -i:8080)
```

**Database connection error:**
```bash
# Check PostgreSQL is running
psql -U postgres -l

# Create database if missing
createdb gram_panchayat
```

**Go module issues:**
```bash
go mod tidy
go mod download
```

### Frontend Issues

**Port 5173 in use:**
```bash
# Change port in vite.config.js or kill process
kill -9 $(lsof -t -i:5173)
```

**API connection error:**
- Check VITE_API_URL in .env
- Ensure backend is running
- Check CORS settings

**Build errors:**
```bash
# Clear cache and reinstall
rm -rf node_modules package-lock.json
npm install
```

---

## ğŸš¢ Production Deployment

### Using Docker
```bash
# Build images
docker-compose -f docker-compose.prod.yml build

# Deploy
docker-compose -f docker-compose.prod.yml up -d
```

### Manual Deployment

**Backend:**
```bash
# Build
go build -o main ./cmd/server

# Run with systemd or PM2
./main
```

**Frontend:**
```bash
# Build
npm run build

# Deploy dist folder to:
# - Netlify
# - Vercel  
# - AWS S3 + CloudFront
# - Nginx server
```

---

## ğŸ“ Support

For issues or questions:
- Check documentation in `/docs`
- Review API documentation in `/docs/API.md`
- Check setup instructions in `/docs/SETUP.md`

---

## ğŸŠ You're All Set!

Your Gram Panchayat system is ready! Start developing or deploying.

**Next Steps:**
1. Customize branding (logo, colors)
2. Add more certificate types
3. Integrate payment gateway (Razorpay/PayU)
4. Add email/SMS notifications
5. Implement PDF generation for certificates
6. Add reporting & analytics
7. Mobile app development

Happy Coding! ğŸš€